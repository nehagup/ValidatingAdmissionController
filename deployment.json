{
   "kind":"DeploymentConfig",
   "apiVersion":"v1",
   "metadata":{
      "name":"validating-service"
   },
   "spec":{
      "template":{
         "metadata":{
            "labels":{
               "app":"validating-service"
            }
         },
         "spec":{
            "containers":[
               {
                  "name":"validating-service",
                  "image":"gitlab-registry.cern.ch/ngupta/validatingtn:5",
                  "ports":[
                     {
                        "containerPort":8080,
                        "protocol":"TCP"
                     }
                  ],
                  "volumeMounts":[
                     {
                        "name":"mycertificate",
                        "mountPath":"/certificate",
                        "readOnly":true
                     }
                  ]
               }
            ],
            "volumes":[
               {
                  "name":"mycertificate",
                  "secret":{
                     "secretName":"mycertificate"
                  }
               }
            ],
            "serviceAccount":"validatingrole"
         }
      },
      "replicas":1,
      "selector":{
         "app":"validating-service"
      },
      "strategy":{
         "type":"Rolling"
      }
   }
}
